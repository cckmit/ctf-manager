date:2022-08-02 17:17:27	thread:main	level:INFO 	logger:com.ctf.auth.CtfAuthApplication                 	msg:The following profiles are active: native
date:2022-08-02 17:17:35	thread:main	level:INFO 	logger:o.s.security.web.DefaultSecurityFilterChain     	msg:Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@598ff2b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f571c0e, org.springframework.security.web.header.HeaderWriterFilter@6b64921f, org.springframework.security.web.authentication.logout.LogoutFilter@71c69628, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@46aea9f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c7cbc2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16279a5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1002f859, org.springframework.security.web.session.SessionManagementFilter@535b4dbf, org.springframework.security.web.access.ExceptionTranslationFilter@47cf922d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ec52163]
date:2022-08-02 17:17:35	thread:main	level:INFO 	logger:o.s.security.web.DefaultSecurityFilterChain     	msg:Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@445c693, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9d2c0ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@52a605c3, org.springframework.security.web.header.HeaderWriterFilter@560c3758, org.springframework.security.web.authentication.logout.LogoutFilter@f451970, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@c7b100b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13fad0c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24fb8317, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@272485a6, org.springframework.security.web.session.SessionManagementFilter@43414b88, org.springframework.security.web.access.ExceptionTranslationFilter@f09c282, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20fdaf3e]
date:2022-08-02 17:17:35	thread:main	level:INFO 	logger:o.s.security.web.DefaultSecurityFilterChain     	msg:Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@272f5373, org.springframework.security.web.context.SecurityContextPersistenceFilter@e98adb2, org.springframework.security.web.header.HeaderWriterFilter@79a92277, org.springframework.security.web.authentication.logout.LogoutFilter@36017835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c3d0ff8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cb73a92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@799557c8, org.springframework.security.web.session.SessionManagementFilter@7712df76, org.springframework.security.web.access.ExceptionTranslationFilter@10664c3d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6afb240d]
date:2022-08-02 17:17:35	thread:main	level:INFO 	logger:com.ctf.auth.CtfAuthApplication                 	msg:Started CtfAuthApplication in 9.825 seconds (JVM running for 11.806)
date:2022-08-02 17:17:36	thread:RMI TCP Connection(2)-192.168.2.45	level:INFO 	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Initializing Servlet 'dispatcherServlet'
date:2022-08-02 17:17:36	thread:RMI TCP Connection(2)-192.168.2.45	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Detected StandardServletMultipartResolver
date:2022-08-02 17:17:36	thread:RMI TCP Connection(2)-192.168.2.45	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
date:2022-08-02 17:17:36	thread:RMI TCP Connection(2)-192.168.2.45	level:INFO 	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed initialization in 55 ms
date:2022-08-02 17:19:38	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:POST "/uaa/oauth/token?tenantCode=10001&username=admin&password=666888&scope=ui&grant_type=password&client_id=browser&type=account", parameters={masked}
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Creating new transaction with name [com.ctf.auth.service.impl.AuthServiceImpl.loadUserByUsername]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121255
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121318
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121357
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121396
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121452
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121488
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121528
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121570
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121626
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:WARN 	logger:com.alibaba.druid.pool.DruidAbstractDataSource  	msg:discard long time none received connection. , jdbcUrl : jdbc:mysql://127.0.0.1:3306/ctf_platform?allowMultiQueries=true&useUnicode=true&characterEncoding=UTF-8&serverTimezone=GMT%2B8, version : 1.2.4, lastPacketReceivedIdleMillis : 121684
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] for JDBC transaction
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] to manual commit
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.auth.mapper.AuthMapper.getSysUserByUsername 	msg:==>  Preparing: SELECT USERNAME AS "USERNAME",PASSWORD AS "PASSWORD" FROM mscode_sys_user WHERE username = ?
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.auth.mapper.AuthMapper.getSysUserByUsername 	msg:==> Parameters: admin(String)
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.auth.mapper.AuthMapper.getSysUserByUsername 	msg:<==      Total: 1
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.a.mapper.AuthMapper.queryRoleCodeByUsername 	msg:==>  Preparing: SELECT role_code AS "roleCode" FROM mscode_sys_user msu LEFT JOIN mscode_sys_role_user msru ON msu.id = msru.user_id INNER JOIN mscode_sys_role msr ON msru.role_id = msr.id AND msu.username = ?
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.a.mapper.AuthMapper.queryRoleCodeByUsername 	msg:==> Parameters: admin(String)
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:c.c.a.mapper.AuthMapper.queryRoleCodeByUsername 	msg:<==      Total: 2
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Initiating transaction commit
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c]
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] after transaction
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/getSysUser", parameters={}
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Creating new transaction with name [com.ctf.auth.service.impl.AuthServiceImpl.getSysUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] for JDBC transaction
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] to manual commit
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:com.ctf.auth.mapper.AuthMapper.getSysUser       	msg:==>  Preparing: SELECT CAST(msu.id AS CHAR) AS "id",msu.username AS "username",msu.nickname AS "nickname",msu.phone AS "phone",msu.mobile AS "mobile",msu.email AS "email",msu.province_regioncode AS "provinceRegionCode",msrp.region_name AS "provinceRegionName",msu.city_regioncode AS "cityRegionCode",msrc.region_name AS "cityRegionName",msu.address AS "address",msu.profile AS "profile",msu.notify_message AS "notifyMessage",msu.notify_todo AS "notifyTodo",msu.avatar AS "avatar",GROUP_CONCAT(msr.role_code) AS "roles" FROM mscode_sys_user msu LEFT JOIN mscode_sys_region msrp ON msu.province_regioncode = msrp.region_code LEFT JOIN mscode_sys_region msrc ON msu.city_regioncode = msrc.region_code LEFT JOIN mscode_sys_role_user msru ON msu.id = msru.user_id LEFT JOIN mscode_sys_role msr ON msr.id = msru.role_id WHERE username = ?
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:com.ctf.auth.mapper.AuthMapper.getSysUser       	msg:==> Parameters: admin(String)
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:com.ctf.auth.mapper.AuthMapper.getSysUser       	msg:<==      Total: 1
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Initiating transaction commit
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c]
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.s.jdbc.datasource.DataSourceTransactionManager	msg:Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3aa8215c] after transaction
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-3	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:19:39	thread:http-nio-10004-exec-3	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:20:50	thread:http-nio-10004-exec-6	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:20:50	thread:http-nio-10004-exec-6	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:28:57	thread:http-nio-10004-exec-8	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:28:57	thread:http-nio-10004-exec-8	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:28:58	thread:http-nio-10004-exec-9	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:28:58	thread:http-nio-10004-exec-9	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:30:32	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:30:32	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:GET "/uaa/users/current", parameters={}
date:2022-08-02 17:30:32	thread:http-nio-10004-exec-1	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 17:30:32	thread:http-nio-10004-exec-2	level:DEBUG	logger:o.springframework.web.servlet.DispatcherServlet 	msg:Completed 200 OK
date:2022-08-02 18:16:57	thread:Thread-19	level:WARN 	logger:com.alibaba.nacos.common.notify.NotifyCenter    	msg:[NotifyCenter] Start destroying Publisher
date:2022-08-02 18:16:57	thread:Thread-2	level:WARN 	logger:c.alibaba.nacos.common.http.HttpClientBeanHolder	msg:[HttpClientBeanHolder] Start destroying common HttpClient
date:2022-08-02 18:16:57	thread:Thread-19	level:WARN 	logger:com.alibaba.nacos.common.notify.NotifyCenter    	msg:[NotifyCenter] Destruction of the end
date:2022-08-02 18:16:57	thread:Thread-2	level:WARN 	logger:c.alibaba.nacos.common.http.HttpClientBeanHolder	msg:[HttpClientBeanHolder] Destruction of the end
date:2022-08-02 18:17:06	thread:SpringContextShutdownHook	level:WARN 	logger:com.alibaba.nacos.client.naming                 	msg:[NamingHttpClientManager] Start destroying NacosRestTemplate
date:2022-08-02 18:17:06	thread:SpringContextShutdownHook	level:WARN 	logger:com.alibaba.nacos.client.naming                 	msg:[NamingHttpClientManager] Destruction of the end
date:2022-08-02 18:17:06	thread:SpringContextShutdownHook	level:WARN 	logger:o.s.beans.factory.support.DisposableBeanAdapter 	msg:Destroy method 'close' on bean with name 'nacosServiceRegistry' threw an exception: java.lang.NullPointerException
